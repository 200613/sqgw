(function(a){if(typeof define==="function"&&define.amd){define([],a)}else{if(typeof exports==="object"){module.exports=a()}else{window.wNumb=a()}}}(function(){var b=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function g(m){return m.split("").reverse().join("")}function h(m,n){return m.substring(0,n.length)===n}function f(m,n){return m.slice(-1*n.length)===n}function i(o,m,n){if((o[m]||o[n])&&(o[m]===o[n])){throw new Error(m)}}function d(m){return typeof m==="number"&&isFinite(m)}function j(n,m){n=n.toString().split("e");n=Math.round(+(n[0]+"e"+(n[1]?(+n[1]+m):m)));n=n.toString().split("e");return(+(n[0]+"e"+(n[1]?(+n[1]-m):-m))).toFixed(m)}function c(m,C,v,A,B,p,n,x,w,o,D,q){var y=q,t,u,r,s="",z="";if(p){q=p(q)}if(!d(q)){return false}if(m!==false&&parseFloat(q.toFixed(m))===0){q=0}if(q<0){t=true;q=Math.abs(q)}if(m!==false){q=j(q,m)}q=q.toString();if(q.indexOf(".")!==-1){u=q.split(".");r=u[0];if(v){s=v+u[1]}}else{r=q}if(C){r=g(r).match(/.{1,3}/g);r=g(r.join(g(C)))}if(t&&x){z+=x}if(A){z+=A}if(t&&w){z+=w}z+=r;z+=s;if(B){z+=B}if(o){z=o(z,y)}return z}function a(m,z,s,x,y,p,n,u,t,o,A,q){var v=q,r,w="";if(A){q=A(q)}if(!q||typeof q!=="string"){return false}if(u&&h(q,u)){q=q.replace(u,"");r=true}if(x&&h(q,x)){q=q.replace(x,"")}if(t&&h(q,t)){q=q.replace(t,"");r=true}if(y&&f(q,y)){q=q.slice(0,-1*y.length)}if(z){q=q.split(z).join("")}if(s){q=q.replace(s,".")}if(r){w+="-"}w+=q;w=w.replace(/[^0-9\.\-.]/g,"");if(w===""){return false}w=Number(w);if(n){w=n(w)}if(!d(w)){return false}return w}function k(o){var n,p,q,m={};if(o.suffix===undefined){o.suffix=o.postfix}for(n=0;n<b.length;n+=1){p=b[n];q=o[p];if(q===undefined){if(p==="negative"&&!m.negativeBefore){m[p]="-"}else{if(p==="mark"&&m.thousand!=="."){m[p]="."}else{m[p]=false}}}else{if(p==="decimals"){if(q>=0&&q<8){m[p]=q}else{throw new Error(p)}}else{if(p==="encoder"||p==="decoder"||p==="edit"||p==="undo"){if(typeof q==="function"){m[p]=q}else{throw new Error(p)}}else{if(typeof q==="string"){m[p]=q}else{throw new Error(p)}}}}}i(m,"mark","thousand");i(m,"prefix","negative");i(m,"prefix","negativeBefore");return m}function e(q,p,o){var n,m=[];for(n=0;n<b.length;n+=1){m.push(q[b[n]])}m.push(o);return p.apply("",m)}function l(m){if(!(this instanceof l)){return new l(m)}if(typeof m!=="object"){return}m=k(m);this.to=function(n){return e(m,c,n)};this.from=function(n){return e(m,a,n)}}return l}));